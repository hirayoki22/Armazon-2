<app-spinner [loading]="isLoading" overlayStyle="fixed"></app-spinner>

<section *ngIf="!isLoading" class="product-detail-section">
  <div class="wrapper">

    <h1 class="product-name">{{ product.productName }}</h1>

    <section class="product-image-container">
      <div *ngIf="product.otherImages" class="small-container">
        <div 
          *ngFor="let image of product.otherImages" class="item">
          <img 
            image-loader 
            [src]="image"
            [alt]="product.productName"
            draggable="false">
        </div>
      </div>

      <div class="big-container">
        <div class="item">
          <img 
            image-loader 
            [src]="product.productImage"
            [alt]="product.productName"
            draggable="false">
        </div>
      </div>
    </section>
    
    <section class="product-details-container">
      <article class="info">
        <p>Price: <span class="price">{{ product.price | currency }}</span></p>
        <p class="stock-label">{{ product.totalStock > 0 ? 'In stock' : 'Not in stock' }}</p>
        
        <div class="desc">
          <h3>Product description:</h3>
          <p>{{ product.productDesc }}</p>
        </div>
      </article>

      <div class="action-buttons">
        <button 
          (click)="onBuyNow(product.productId)"
          type="button" class="buy-now-btn">Buy Now</button>

        <button 
          (click)="onAddToCart(product.productId)"
          type="button" class="add-to-cart-btn" title="Add to Cart">
          <i class="material-icons">add_shopping_cart</i>
          <span>Add to cart</span>
        </button>
      </div>
    </section>

  </div>

</section>

