<section class="signup-section">
  <div class="quick-store-info-column">
    <div class="cover-image">
      <img image-loader src="assets/img/signup-form.webp" draggable="false">
    </div>

    <div class="top-content">
      <button routerLink="/" class="return-btn" type="button">
        <i class="material-icons">navigate_before</i>
      </button>

      <a class="logo">
        <span>A</span>
        <span>rmazon</span>
      </a>
    </div>

    <div class="middle-content">
      <h3>Create an Armazon account, and enjoy great benefits!</h3>
    </div>

    <div class="bottom-content">
      <p>
        Armazon.do - <a href="#">Cookie Policy</a> and 
        <a href="#">Privacy Policy</a>
      </p>
      <p>&copy; Armazon by Adison P. Mart√≠nez 2019-{{ currentYear }}</p>
    </div>
  </div>

  <div class="signup-form-column">
    <form 
      [formGroup]="signupForm" 
      (ngSubmit)="onSubmit()" 
      id="signupForm">
      <div class="form-group">
        <div class="form-group-wrapper">
          <input formControlName="firstName" type="text">
          <label [class.shrink]="firstName.value">
            First name
          </label>
        </div>

        <div 
          *ngIf="firstName.dirty && firstName?.errors"
          class="invalid-feedback">
          <p *ngIf="firstName.errors.required">
            Enter your first name
          </p>

          <p *ngIf="firstName.errors.pattern">
            Enter a valid first name
          </p>
        </div>
      </div>

      <div class="form-group">
        <div class="form-group-wrapper">
          <input formControlName="lastName" type="text">
          <label [class.shrink]="lastName.value">
            Last name
          </label>
        </div>

        <div 
          *ngIf="lastName.dirty && lastName?.errors"
          class="invalid-feedback">
          <p *ngIf="lastName.errors.required">
            Enter your last name
          </p>

          <p *ngIf="lastName.errors.pattern">
            Enter a valid last name
          </p>
        </div>
      </div>

      <div class="form-group">
        <div class="form-group-wrapper">
          <input formControlName="mobile" type="text">
          <label [class.shrink]="mobile.value">
            Mobile (DO)
          </label>

          <div *ngIf="mobile.pending" class="loader">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>

        <div 
          *ngIf="mobile.dirty && mobile?.errors"
          class="invalid-feedback">
          <p *ngIf="mobile.value && mobile.errors.mobile">
            Invalid mobile format
          </p>
        </div>
      </div>

      <div class="form-group">
        <div class="form-group-wrapper">
          <input formControlName="email" type="email">
          <label [class.shrink]="email.value">
            Email address (username)
          </label>

          <div *ngIf="email.pending" class="loader">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>

        <div 
          *ngIf="email.dirty && email?.errors"
          class="invalid-feedback">
          <p *ngIf="email.errors.required">
            Enter your email address
          </p>

          <p *ngIf="!email.errors.required && email.errors.email">
            Invalid email format
          </p>
        </div>
      </div>

      <div class="form-group">
        <div class="form-group-wrapper">
          <input formControlName="password" 
            [type]="!showPassword ? 'password' : 'text'">
          <label [class.shrink]="password.value">Password</label>

          <button 
            (click)="showPassword = !showPassword"
            class="toggle_password_visibility"
            type="button"
            tabindex="-10">
            <i *ngIf="!showPassword" class="material-icons">visibility</i>
            <i *ngIf="showPassword" class="material-icons">visibility_off</i>
          </button>
        </div>

        <div class="invalid-feedback"></div>
      </div>

      <div class="form-group">
        <div class="form-group-wrapper">
          <input formControlName="rePassword" 
            [type]="!showRePassword ? 'password' : 'text'">
          <label [class.shrink]="rePassword.value">Retype your password</label>

          <button 
            (click)="showRePassword = !showRePassword"
            class="toggle_password_visibility"
            type="button"
            tabindex="-10">
            <i *ngIf="!showRePassword" class="material-icons">visibility</i>
            <i *ngIf="showRePassword" class="material-icons">visibility_off</i>
          </button>
        </div>

        <div class="invalid-feedback"></div>
      </div>
  
      <div class="action-buttons">
        <button 

          class="btn-xl-filled signup-btn">Create account</button>
      </div>

    
      <a routerLink="../login" class="existing-user">
        Already a member? Log in now
      </a>
    </form>
  </div>

  <app-spinner [loading]="isLoading"></app-spinner>
</section>