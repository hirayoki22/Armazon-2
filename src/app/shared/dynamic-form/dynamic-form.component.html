<div *ngIf="fields">
  <form 
    [formGroup]="form" 
    (ngSubmit)="onSubmit()" 
    id="dynamicForm"
    [style.maxWidth]="width">

    <div 
      *ngFor="let field of fields"
      [ngSwitch]="field.fieldType" 
      class="form-group">

      <dynamic-dropdown
        *ngSwitchCase="'dropdown'"
        [form]="form"
        [field]="field"></dynamic-dropdown>

      <dynamic-textarea
        *ngSwitchCase="'textarea'"
        [form]="form"
        [field]="field"></dynamic-textarea>

      <dynamic-text-field
        *ngSwitchDefault
        [form]="form"
        [field]="field"></dynamic-text-field>

      <input-feedback
        [control]="form.get(field.fieldKey)"
        [field]="field"></input-feedback>
    </div>

    <div class="action-buttons">
      <button 
        class="btn-xl-filled submit-btn">
        Submit
      </button>
    </div>
  </form>
</div>